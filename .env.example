# SPARKA Environment Configuration
# Copy this file to .env and modify the values as needed

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DB_HOST=sparka-mysql
DB_PORT=3306
DB_DATABASE=sparka_db
DB_USERNAME=sparka_user
DB_PASSWORD=sparka_pass
DB_ROOT_PASSWORD=root123

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_HOST=sparka-redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ===========================================
# BACKEND CONFIGURATION
# ===========================================
BACKEND_URL=http://sparka-backend:8000
BACKEND_PORT=8000
APP_ENV=production
APP_DEBUG=false
APP_KEY=base64:your-app-key-here

# ===========================================
# AI API CONFIGURATION
# ===========================================
AI_API_URL=http://sparka-ai-api:5000
AI_API_PORT=5000

# ===========================================
# GRPC SERVICES CONFIGURATION
# ===========================================
VEHICLE_DETECTION_URL=http://vehicle-detection:50051
OCR_SERVICE_URL=http://ocr-service:50052
PLATE_DETECTION_URL=http://plate-detection:50053

# ===========================================
# INTEGRATION SERVICE CONFIGURATION
# ===========================================
INTEGRATION_PORT=8004
INTEGRATION_LOG_LEVEL=INFO
INTEGRATION_MAX_WORKERS=4

# ===========================================
# FILE PROCESSOR CONFIGURATION
# ===========================================
FILE_PROCESSOR_PORT=8002
MAX_FILE_SIZE=100MB
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,bmp
ALLOWED_VIDEO_TYPES=mp4,avi,mov,mkv

# ===========================================
# FRONTEND CONFIGURATION
# ===========================================
FRONTEND_PORT=3000
REACT_APP_API_URL=http://localhost:8000/api
REACT_APP_INTEGRATION_URL=http://localhost:8004

# ===========================================
# NGINX CONFIGURATION
# ===========================================
NGINX_PORT=80
NGINX_SSL_PORT=443
CLIENT_MAX_BODY_SIZE=100M

# ===========================================
# INFLUXDB CONFIGURATION
# ===========================================
INFLUXDB_PORT=8086
INFLUXDB_ADMIN_USER=admin
INFLUXDB_ADMIN_PASSWORD=admin123
INFLUXDB_DB=sparka_metrics

# ===========================================
# GRAFANA CONFIGURATION
# ===========================================
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ===========================================
# RABBITMQ CONFIGURATION
# ===========================================
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_DEFAULT_USER=sparka
RABBITMQ_DEFAULT_PASS=sparka123

# ===========================================
# WEBSOCKET SERVICE CONFIGURATION
# ===========================================
WEBSOCKET_PORT=8003

# ===========================================
# PROCESSING CONFIGURATION
# ===========================================
# Maximum duration for RTSP processing (seconds)
MAX_RTSP_DURATION=300

# Frame sampling rate for video processing
VIDEO_FRAME_SAMPLE_RATE=30

# RTSP frame sampling interval (seconds)
RTSP_FRAME_INTERVAL=5

# Maximum retry attempts for API calls
MAX_RETRY_ATTEMPTS=3

# Retry delay (seconds)
RETRY_DELAY=2

# Auto-exit timeout for vehicle detection (seconds)
# Vehicles detected after this timeout will be treated as exiting
AUTO_EXIT_TIMEOUT_SECONDS=15

# ===========================================
# CACHING CONFIGURATION
# ===========================================
# Cache TTL for detection results (seconds)
CACHE_TTL=3600

# Cache TTL for parking status (seconds)
PARKING_CACHE_TTL=300

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=INFO
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# JWT Secret for API authentication
JWT_SECRET=your-jwt-secret-key-here

# API Rate limiting (requests per minute)
API_RATE_LIMIT=100

# CORS allowed origins (comma separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:80

# ===========================================
# MONITORING CONFIGURATION
# ===========================================
# Enable/disable metrics collection
ENABLE_METRICS=true

# Metrics collection interval (seconds)
METRICS_INTERVAL=60

# Enable/disable health checks
ENABLE_HEALTH_CHECKS=true

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=30

# ===========================================
# DEVELOPMENT CONFIGURATION
# ===========================================
# Enable debug mode for development
DEBUG_MODE=false

# Save debug frames for analysis
SAVE_DEBUG_FRAMES=false

# Debug frames directory
DEBUG_FRAMES_DIR=./debug_frames

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
# Enable automatic backups
ENABLE_AUTO_BACKUP=true

# Backup interval (hours)
BACKUP_INTERVAL=24

# Backup retention (days)
BACKUP_RETENTION=7

# Backup directory
BACKUP_DIR=./backups

# ===========================================
# NOTIFICATION CONFIGURATION
# ===========================================
# Enable notifications
ENABLE_NOTIFICATIONS=false

# Notification webhook URL
NOTIFICATION_WEBHOOK_URL=

# Email notifications
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=

# ===========================================
# PERFORMANCE TUNING
# ===========================================
# Number of worker processes
WORKER_PROCESSES=4

# Worker connections
WORKER_CONNECTIONS=1024

# Database connection pool size
DB_POOL_SIZE=20

# Redis connection pool size
REDIS_POOL_SIZE=10

# ===========================================
# TIMEZONE CONFIGURATION
# ===========================================
TIMEZONE=Asia/Jakarta

# ===========================================
# LANGUAGE CONFIGURATION
# ===========================================
DEFAULT_LANGUAGE=id
SUPPORTED_LANGUAGES=id,en